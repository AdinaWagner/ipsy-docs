.. -*- mode: rst; fill-column: 79 -*-
.. ex: set sts=4 ts=4 sw=4 et tw=79:

**************
Hardware setup
**************
We own a 42U rack in the campus Data Center.
The contents of the rack are:

* one `head node <medusa.html>`_ (medusa)
* nine `compute nodes <compute_nodes.html>`_ (snake1-9)
* one `backup server <mudflap.html>`_ (mudflap) with an external array (trucknuts)
* two `network switches <network.html>`_ (one for IPMI, other for data)
* two `UPSs and one PDU <power.html>`_

In addition to the contents of our rack, we have two VMs supplied by the URZ.

* `Web server <kumo.html>`_ - kumo.ovgu.de
* `NeuroDebian server <karr.html>`_ - neurodebian.ovgu.de (aka karr)

The rack layout, as of 22.05.2013:

+----+---------+-------------+----------+--------------------------------+
| U# | PDU #   | Name                   | Quick Specs                    |
+====+=========+=============+==========+================================+
| 1  | N/I     | UPS: 1000 SC           |                                |
+----+         |                        |                                |
| 2  |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 3  |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 5  |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 6  | 3       | IPMI Switch            | 24 Port HP ProCurce 1700-24    |
+----+---------+------------------------+--------------------------------+
| 7  | 2       | Network Switch         | 48 Port HP V1910-48G           |
+----+---------+------------------------+--------------------------------+
| 8  |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 9  |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 10 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 11 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 12 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 13 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 14 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 15 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 16 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 17 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 18 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 19 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 20 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 21 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 22 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 23 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 24 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 25 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 26 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 27 |         |                        | 1x 4-core 3.2 GHz Xeon E3-1230 |
+----+ N/I     | reka                   | 16GiB RAM                      |
| 28 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 29 | 22      | snake9                 |                                |
+----+---------+------------------------+--------------------------------+
| 30 |         |                        | 1x 4-core 2.67 GHz i7 920      |
+----+ 28 & 20 | snake8                 | 18 GiB RAM                     |
| 31 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 32 | 19      | snake7                 | 4x 16-core 2.4 GHz Opteron 6272|
|    |         |                        | 256 GiB RAM                    |
+----+---------+-------------+----------+--------------------------------+
| 33 | 25      | snake5      | snake6   | each snake is::                |
+----+---------+-------------+----------+ 2x 6-core 2.4 GHz Xeon E5645   |
| 34 | 26      | snake3      | snake4   | 96 GiB RAM                     |
+----+---------+-------------+----------+                                |
| 35 | 27      | snake1      | snake2   |                                |
+----+---------+-------------+----------+--------------------------------+
| 36 | 21      | mudflap                | 4x 8-core 2.6 GHz Opteron 6212 |
|    |         |                        | 512 GiB RAM                    |
+----+---------+------------------------+--------------------------------+
| 37 |         |                        | 12x 2 TB drives                |
+----+ 31 & 32 | trucknuts              | 12 bays                        |
| 38 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 39 |         |                        | 2x 6-core 2.4 GHz Xeon E5645   |
+----+ 33 & 34 | medusa                 | 96 GiB RAM                     |
| 40 |         |                        |                                |
+----+---------+------------------------+--------------------------------+
| 41 |         |                        |                                |
+----+ N/C     | UPS: 3000 VA           | bought: 2012.12                |
| 42 |         |                        |                                |
+----+---------+------------------------+--------------------------------+

Legend:

* N/I:: not installed (physically not in the rack)
* N/C:: not connected (physically in the rack)

TODO
====

* explain wiring and rack setup
* network switch conventions
* explain dnsmasq file basics
* style rack table
* common actions: adding a user
* how backups work
* user copying (kumo, b3)
* exim stuff
* snake8 and 9 specs
* power PDU and UPS
* cssh -- common tasks
* adding a new node
