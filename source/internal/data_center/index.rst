.. -*- mode: rst; fill-column: 79 -*-
.. ex: set sts=4 ts=4 sw=4 et tw=79:

***********
Data Center
***********
We own a 42U rack in the campus Data Center. The contents of the rack are:

* one `head node <medusa>`_ (medusa)
* one `data node <flatbed>`_ (flatbed with an internal array jackknife)
* twelve `compute nodes <compute_nodes>`_ (snake1-12)
* one `backup server <mudflap>`_ (mudflap) with an external array (trucknuts)
* one `XNAT server <mulder>`_ (mulder)
* two `network switches <network>`_ (one for IPMI, the other for data)
* two `UPSs and one zero-U PDU <power>`_

In addition to the contents of our rack, we have two VMs supplied by the URZ:

* `Web server <kumo>`_ - kumo.ovgu.de
* `NeuroDebian server <karr>`_ - neurodebian.ovgu.de (aka karr)

As with any project, there's a few straggling "gotchas" and unfinished ideas.

* Flatbed's SSDs are in drive bays without carriers. We didn't have any 2.5"
  carriers and we originally (and still do) want to install them in unused space
  for a slimline DVD drive. However, there are no extra 4 pin molex or SATA
  power connectors in Flatbed. There were, however, two 4 pin floppy connectors.
  Adapters should be purchased and the SSDs moved.
* The Eaton UPS currently connects from C19 to a C13 outlet. For the sake of
  preserving the few remaining C13s on the PDU and increasing the available
  current to the UPS, a C20(?) to C19 should be used.

.. todo:: Upgrade flatbed's BIOS. See it's page for the saga.

.. toctree::
   :hidden:
   :glob:

   *

The rack layout, as of 13.06.2017:

.. cssclass:: dc-rack

+-----+----+-----------------+-------------+-----------------------------------+
| PDU | U# | Name            | Inventory # | Quick Notes                       |
+=====+====+=================+=============+===================================+
|     | 1  |                 | 243181,000  |                                   |
+     +----+ UPS: 1000 SC    |             |                                   |
|     | 2  |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
| UPS | 3  | Router          | 1019378     | SG-8860                           |
+-----+----+-----------------+-------------+-----------------------------------+
| UPS | 4  | DMZ Switch      |             | 48 Port HP V1910-48G              |
+-----+----+-----------------+-------------+-----------------------------------+
| UPS | 5  | Mgmt Switch     |             | 24 Port HP ProCurve 1700-24       |
+-----+----+-----------------+-------------+-----------------------------------+
| UPS | 6  | Data Switch     | 1019379     | 28 Port Netgear XS728T            |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 7  |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 8  |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 9  |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 10 | mulder          | 260876,000  | 1x 4-core 3.2 GHz Xeon E3-1230    |
+     +----+                 |             | 16 GiB RAM                        |
|     | 11 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 12 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 13 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 14 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 15 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 16 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 17 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 18 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 19 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 20 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 21 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 22 |                 |             | Sun Fire T2000                    |
+     +----+ sunshine        + 252757,000  + 1x 8-core 1.2GHz                  +
|     | 23 |                 |             | 16 GiB RAM                        |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 24 | snake12         | 264097,000  | 4x 8-core 2.6 GHz Opteron 6212    |
|     |    |                 |             | 512 GiB RAM                       |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 25 |                 |             | 2x 10-core 2.3 GHz Xeon E5-2650v3 |
+     +----+ snake11         + 1019380,000 + 96 GiB DDR4 RAM                   +
|     | 26 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 27 | snake10         | 267616,000  | 4x 8-core 2.8 GHz Opteron 6320    |
|     |    |                 |             | 512 GiB RAM                       |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 28 | snake9          | 246831,000  | 1x 8-core 2.0 GHz Opteron 6128    |
|     |    |                 |             | 64 GiB RAM                        |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 29 |                 | 245075,000  | 1x 4-core 2.67 GHz i7 920         |
+     +----+ snake8          |             | 18 GiB RAM                        |
|     | 30 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 31 | snake7          |             | 4x 16-core 2.4 GHz Opteron 6272   |
|     |    |                 |             | 256 GiB RAM                       |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 32 | snake5 & snake6 | 261309,000  | each snake:                       |
+-----+----+-----------------+ (guessing)  | 2x 6-core 2.4 GHz Xeon E5645      |
|     | 33 | snake3 & snake4 |             | 96 GiB RAM                        |
+-----+----+-----------------+             |                                   |
|     | 34 | snake1 & snake2 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 35 | medusa          | 265021,000  | 4x 8-core 2.8 GHz Opteron 6320    |
+ \&  +----+                 +             + 256 GiB RAM                       +
| UPS | 36 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 37 | zing            | 31333       | 13x 3.84TiB SanDisk Optimus 2 Max |
+ \&  +----+                 |             |                                   |
| UPS | 38 |                 |             | 24 bays                           |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 39 | JBOD (zing)     |             | 4x 4TB HDD                        |
+ \&  +----+                 |             |                                   |
| UPS | 40 |                 |             | 12 bays                           |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 41 |                 |             |                                   |
+     +----+ UPS: 3000 VA    |             | bought: 2012.12                   |
|     | 42 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+

The rack's Inventory Nr.: 248252,00

Legend:

* N/I: *not installed* (physically **not** in the rack)
* N/C: *not connected* (physically in the rack)


+-----+----+-----------------+-------------+-----------------------------------+
|     | 38 |                 |             |                                   |
+     +----+                 | 261309,000  | 2x 6-core 2.4 GHz Xeon E5645      |
| \&  | 39 | thunk           |             | 96 GiB RAM                        |
+ UPS +----+                 |             |                                   |
|     | 40 |                 |             |                                   |
+-----+----+-----------------+-------------+-----------------------------------+
|     | 36 |                 | 265526,000  |                                   |
+     +----+ JBOD (thunk)    |             |                                   |
|     | 37 |                 |             | 12 bays                           |
+-----+----+-----------------+-------------+-----------------------------------+
